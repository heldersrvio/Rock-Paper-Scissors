<!DOCTYPE html>
<html>
<body>
	<script>
		function capitalizeFirstLetter(s){
			return s.charAt(0).toUpperCase() + s.substr(1, s.length - 1);
		}
		function computerPlay(){
			const options = ["Rock", "Paper", "Scissors"];
			return options[Math.floor(Math.random() * options.length)]
		}
		function playRound(playerSelection, computerSelection){
			const pSLowerCased = playerSelection.toLowerCase();
			const cSLowerCased = computerSelection.toLowerCase();
			if (pSLowerCased === cSLowerCased){
				return "It's a draw!";
			}else if ("rockpaperscissors".indexOf(pSLowerCased) == -1){
				return "Invalid selection";
			}else if (pSLowerCased === "rock" && cSLowerCased === "scissors" || pSLowerCased === "scissors" && cSLowerCased === "paper" || pSLowerCased === "paper" && cSLowerCased === "rock"){
				return `You win! ${capitalizeFirstLetter(pSLowerCased)} beats ${capitalizeFirstLetter(cSLowerCased)}`;
			}else{
				return `You lose. ${capitalizeFirstLetter(cSLowerCased)} beats ${capitalizeFirstLetter(pSLowerCased)}`;
			}
		}
		function game(){
			let currentResult;
			let playerScore = 0, computerScore = 0;
			for (let i = 0; i < 5; i++){
				currentResult = playRound(prompt("Choose among rock, paper or scissors"), computerPlay());
				console.log(currentResult);
				switch(currentResult.charAt(6)){
					case ' ':
						break;
					case 'n':
						playerScore++;
						break;
					case 's':
						computerScore++;
						break;
					default:
						i--;
				}
			}
			if (playerScore == computerScore){
				console.log("It's a draw!");
			}else if (playerScore > computerScore){
				console.log("You won!");
			}else{
				console.log("You lost.");
			}
		}
		game();
	</script>
</body>
</html>